--- ./ros2/rcl/rcl/src/rcl/publisher.c
+++ ./ros2/rcl/rcl/src/rcl/publisher.c
@@ -76,7 +76,7 @@ rcl_publisher_init(
     rcl_node_get_rmw_handle(node),
     type_support,
     topic_name,
-    &rmw_qos_profile_default);
+    &options->qos);
   if (!publisher->impl->rmw_handle) {
     RCL_SET_ERROR_MSG(rmw_get_error_string_safe());
     goto fail;
